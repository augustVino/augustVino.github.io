(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{642:function(t,e,n){"use strict";n.r(e);var a=n(59),c=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"web-图片优化方案之-webp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-图片优化方案之-webp"}},[t._v("#")]),t._v(" Web 图片优化方案之 webp")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("详细介绍请看"),n("a",{attrs:{href:"https://developers.google.com/speed/webp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("webp是一种新的图像格式，使用WebP，网站管理员和Web开发人员可以创建更小，更丰富的图像，从而使Web更快。"),n("strong",[t._v("与PNG相比，WebP无损图像的尺寸要小26％。在同等的SSIM质量指标下，WebP有损图像比同类JPEG图像 小25-34％。")])]),t._v(" "),n("h2",{attrs:{id:"兼容性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#兼容性"}},[t._v("#")]),t._v(" 兼容性")]),t._v(" "),n("image-image",{attrs:{imgSrc:"/img/image8.1-1.webp",imgAlt:"image8.1-1.png"}}),t._v(" "),n("h2",{attrs:{id:"使用-webp-converter-转化为-webp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-webp-converter-转化为-webp"}},[t._v("#")]),t._v(" 使用 WebP Converter 转化为 webp")]),t._v(" "),n("p",[t._v("网上好多的工具，都可以把 png/jpg 转化为 webp。但是每种工具都各有优缺点，有的不能批量转，如果项目中图片太多，那得专门给转化图片估个工时；有的工具可以批量转，但是速度不敢恭维、并且不支持 gif 格式的转化。这里记录一下我个人的图片转化之路，使用Google"),n("a",{attrs:{href:"https://developers.google.com/speed/webp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webp官网"),n("OutboundLink")],1),t._v("推荐的转化工具，这里记录的是Mac安装的方式，其他系统的请看"),n("a",{attrs:{href:"https://developers.google.com/speed/webp/docs/compiling#unix",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),n("p",[t._v("从"),n("a",{attrs:{href:"https://storage.googleapis.com/downloads.webmproject.org/releases/webp/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("资料库"),n("OutboundLink")],1),t._v("，下载相应系统的软件包。这里下载的是"),n("strong",[t._v("libwebp-1.0.3-mac-10.14.tar.gz")]),t._v("。")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("解压"),n("strong",[t._v("libwebp-1.0.3-mac-10.14.tar.gz")]),t._v("，生成"),n("strong",[t._v("libwebp-1.0.3-mac-10.14")]),t._v("文件夹。包含内容如下：\n"),n("image-image",{attrs:{imgSrc:"/img/image8.1-2.webp",imgAlt:"image8.1-2.webp"}})],1)]),t._v(" "),n("li",[n("p",[t._v("为方便使用，将bin文件夹中的命令都加到系统alias中，否则每次使用都得把相应命令文件拖到终端。\n设置系统 alias 执行命令行：")])])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" ~/.zshrc\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-32198"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"vi ~/.zshrc\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-32198","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-44043"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"vi ~/.zshrc\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-44043","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("p",[t._v("在打开的编辑器中底部新增如下：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cwebp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dwebp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("gif2webp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每次重启终端都会执行一下.bash_profile")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/.bash_profile\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-92603"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'alias cwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"\nalias dwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"\nalias gif2webp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"\n\n# 每次重启终端都会执行一下.bash_profile\nsource ~/.bash_profile\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-92603","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-64487"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'alias cwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"\nalias dwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"\nalias gif2webp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"\n\n# 每次重启终端都会执行一下.bash_profile\nsource ~/.bash_profile\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-64487","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("p",[t._v("使得设置生效：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/.zshrc\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-19966"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"source ~/.zshrc\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-19966","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-19859"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"source ~/.zshrc\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-19859","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("让设置永久生效，新建或打开 ~/.bash_profile。")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.bash_profile\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-13780"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"vim ~/.bash_profile\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-13780","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-64445"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"vim ~/.bash_profile\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-64445","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("p",[t._v("在打开的编辑器中新增如下：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cwebp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dwebp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("gif2webp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"')]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-2776"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'alias cwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"\nalias dwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"\nalias gif2webp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-2776","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-3034"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'alias cwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/cwebp"\nalias dwebp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/dwebp"\nalias gif2webp="/Users/Vino/Downloads/Compressed/libwebp-1.0.3-mac-10.14/bin/gif2webp"\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-3034","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("p",[t._v("大功告成 👏")]),t._v(" "),n("h3",{attrs:{id:"使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),n("h4",{attrs:{id:"png、jpg转换为webp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#png、jpg转换为webp"}},[t._v("#")]),t._v(" png、jpg转换为webp")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cwebp -h 查看帮助")]),t._v("\ncwebp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -q quality input.png -o output.webp\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-92158"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# cwebp -h 查看帮助\ncwebp [options] -q quality input.png -o output.webp\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-92158","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-41692"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# cwebp -h 查看帮助\ncwebp [options] -q quality input.png -o output.webp\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-41692","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -lossless是无损压缩")]),t._v("\ncwebp -lossless old/annualReport_title.png -o a.webp\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-62871"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# -lossless是无损压缩\ncwebp -lossless old/annualReport_title.png -o a.webp\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-62871","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-1623"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# -lossless是无损压缩\ncwebp -lossless old/annualReport_title.png -o a.webp\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-1623","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("h4",{attrs:{id:"webp转换为png，pam，ppm或pgm图像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webp转换为png，pam，ppm或pgm图像"}},[t._v("#")]),t._v(" webp转换为PNG，PAM，PPM或PGM图像")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("dwebp in_file "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-o out_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-3216"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"dwebp in_file [options] [-o out_file]\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-3216","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-83923"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"dwebp in_file [options] [-o out_file]\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-83923","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("h4",{attrs:{id:"gif转换为webp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gif转换为webp"}},[t._v("#")]),t._v(" gif转换为webp")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gif2webp -h 查看帮助")]),t._v("\ngif2webp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" input_file.gif -o output_file.webp\n\ngif2webp -q "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v(" picture.gif -o picture.webp\ngif2webp -lossy -m "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" picture.gif -o picture_lossy.webp\ngif2webp -lossy -f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" picture.gif -o picture.webp\ngif2webp -min_size -q "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" -o picture.webp -- ---picture.gif\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-15695"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# gif2webp -h 查看帮助\ngif2webp [options] input_file.gif -o output_file.webp\n\ngif2webp -q 70 picture.gif -o picture.webp\ngif2webp -lossy -m 3 picture.gif -o picture_lossy.webp\ngif2webp -lossy -f 50 picture.gif -o picture.webp\ngif2webp -min_size -q 30 -o picture.webp -- ---picture.gif\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-15695","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710626-54999"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# gif2webp -h 查看帮助\ngif2webp [options] input_file.gif -o output_file.webp\n\ngif2webp -q 70 picture.gif -o picture.webp\ngif2webp -lossy -m 3 picture.gif -o picture_lossy.webp\ngif2webp -lossy -f 50 picture.gif -o picture.webp\ngif2webp -min_size -q 30 -o picture.webp -- ---picture.gif\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710626-54999","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("h3",{attrs:{id:"拓展"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[t._v("#")]),t._v(" 拓展")]),t._v(" "),n("p",[t._v("上边虽然成功的安装了工具包，并且配置了系统的alias，但是仅限于在终端使用，并且每次只能转换单个文件。假如我一个项目中的图片都需要转换呢？那就需要自己编写个脚本了（这里疯狂的吐槽一下Google，为啥Webp发展的这么慢、到现在都没有个官方的转换工具。。）。")]),t._v(" "),n("p",[t._v("附：脚本代码（外行搬砖。。写的不好请指正）")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此处是因为shell脚本文件中不能使用系统中设置的alias")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要引入系统设置，然后才能使用")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/.bash_profile\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#读取用户输入的输入路径（要转换的图片文件夹或图片文件）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" -p "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Please input file or directory(请输入要转换的文件或文件夹路径) :"')]),t._v(" inputPath\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#读取用户输入的输出路径（转换成功后的图片文件夹或图片文件）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" -p "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Please input output directory(请输入转换后储存的路径) :"')]),t._v(" outputPath\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#读取用户输入的转换质量")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" -p "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Please input Conversion quality(请输入转换质量) :"')]),t._v(" qualityNum\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("convertFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取参数：输入路径、输出路径、转换质量")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("inDirectory")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("outDirectory")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("quality")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fileIncludeSuffix")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${inDirectory"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("##")]),t._v("*"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除变量 b 右侧第一个出现.的所有字符，并复制给 c")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fileName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${fileIncludeSuffix"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(".*}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("output")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outDirectory")]),t._v('"')]),t._v('"/'),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fileName")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(".webp"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\n    echo "')]),t._v("output:"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output")]),t._v(';\n    \n    if [[ -f "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n        return 2;\n    fi\n    \n    if [[ '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quality")]),t._v(" ]]; then\n     \n        if [[ "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fileIncludeSuffix")]),t._v(' == *\\.gif ]]; then\n            gif2webp "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -o "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -q "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quality")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -lossy -m 6;\n        else\n            # -quiet,don\'t print anything\n            # -progress,report encoding progress\n            # -lossless,有的JPG反而更大！\n            # safename="')]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $input "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s# #"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v(" #g'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\n            # 作为参数的时候，带上双引号，这样可以传递有空格的参数！\n            cwebp -q "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quality")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -quiet -metadata "')]),t._v("all"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -mt "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -o "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\n        fi\n\n    else\n        cwebp -quiet -metadata "')]),t._v("all"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -mt "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" -o "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$output")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\n    fi\n}\n# 指定路径的图片转化为webp格式，使用前判断是否是文件！\nfunction convertDirectory(){\n    # 获取参数：输入路径、输出路径、转换质量\n    inDirectory='),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(";\n    outDirectory="),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v(";\n    quality="),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$3")]),t._v(';\n\n    # 如果是单个文件的话，执行convertFile\n    if [[ -f "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n        convertFile "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quality")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\n    elif [[ -d "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n        echo "')]),t._v("convert directory:"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\n        fileList="')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),t._v("/*"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"; \n\n        for file in '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fileList")]),t._v("\n        do\n            if [[ "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("##")]),t._v("*.}")]),t._v(' -ne "')]),t._v("webp"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n                continue;\n            fi\n            convertDirectory "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outDirectory")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$quality")]),t._v(';\n        done\n    else\n        echo "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inDirectory")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" not exist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\n    fi\n}\n\n# 如果没有输入文件夹路径，则自动设置为当前目录下边的img文件夹\nif [[ ! "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inputPath")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n    inputPath="')]),n("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PWD")]),t._v("/img"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\nfi\n\nif [[ ! "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outputPath")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n    outputPath="')]),n("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PWD")]),t._v("/img"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('";\nfi\n\nif [[ ! "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qualityNum")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ]]; then\n    qualityNum=100;\nfi\n\n# echo '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inputPath")]),t._v("\n# echo "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outputPath")]),t._v("\n# echo "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qualityNum")]),t._v('\n\n# 调用convertDirectory并传参\nconvertDirectory "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$inputPath")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$outputPath")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$qualityNum")]),t._v('"'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710627-29510"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 此处是因为shell脚本文件中不能使用系统中设置的alias\n# 需要引入系统设置，然后才能使用\nsource ~/.bash_profile\n\n#读取用户输入的输入路径（要转换的图片文件夹或图片文件）\nread -p "Please input file or directory(请输入要转换的文件或文件夹路径) :" inputPath\n\n#读取用户输入的输出路径（转换成功后的图片文件夹或图片文件）\nread -p "Please input output directory(请输入转换后储存的路径) :" outputPath\n\n#读取用户输入的转换质量\nread -p "Please input Conversion quality(请输入转换质量) :" qualityNum\n\nfunction convertFile(){\n    # 获取参数：输入路径、输出路径、转换质量\n    inDirectory=$1;\n    outDirectory=$2;\n    quality=$3;\n\n    fileIncludeSuffix=${inDirectory##*/}\n    #删除变量 b 右侧第一个出现.的所有字符，并复制给 c\n\tfileName=${fileIncludeSuffix%.*}\n\n    if [[ ! "$inDirectory" ]]; then\n        return 1;\n    fi\n\n    output="$outDirectory""/""$fileName"".webp";\n    echo "output:"$output;\n    \n    if [[ -f "$output" ]]; then\n        return 2;\n    fi\n    \n    if [[ $quality ]]; then\n     \n        if [[ $fileIncludeSuffix == *\\.gif ]]; then\n            gif2webp "$inDirectory" -o "$output" -q "$quality" -lossy -m 6;\n        else\n            # -quiet,don\'t print anything\n            # -progress,report encoding progress\n            # -lossless,有的JPG反而更大！\n            # safename="$(echo $input | sed \'s# #\\\\ #g\')"\n            # 作为参数的时候，带上双引号，这样可以传递有空格的参数！\n            cwebp -q "$quality" -quiet -metadata "all" -mt "$inDirectory" -o "$output";\n        fi\n\n    else\n        cwebp -quiet -metadata "all" -mt "$inDirectory" -o "$output";\n    fi\n}\n# 指定路径的图片转化为webp格式，使用前判断是否是文件！\nfunction convertDirectory(){\n    # 获取参数：输入路径、输出路径、转换质量\n    inDirectory=$1;\n    outDirectory=$2;\n    quality=$3;\n\n    # 如果是单个文件的话，执行convertFile\n    if [[ -f "$inDirectory" ]]; then\n        convertFile "$inDirectory" "$outDirectory" "$quality";\n    elif [[ -d "$inDirectory" ]]; then\n        echo "convert directory:""$inDirectory""."\n        fileList="$inDirectory/*"; \n\n        for file in $fileList\n        do\n            if [[ ${file##*.} -ne "webp" ]]; then\n                continue;\n            fi\n            convertDirectory "$file" $outDirectory $quality;\n        done\n    else\n        echo "$inDirectory"" not exist..."\n    fi\n}\n\n# 如果没有输入文件夹路径，则自动设置为当前目录下边的img文件夹\nif [[ ! "$inputPath" ]]; then\n    inputPath="$PWD/img";\nfi\n\nif [[ ! "$outputPath" ]]; then\n    outputPath="$PWD/img";\nfi\n\nif [[ ! "$qualityNum" ]]; then\n    qualityNum=100;\nfi\n\n# echo $inputPath\n# echo $outputPath\n# echo $qualityNum\n\n# 调用convertDirectory并传参\nconvertDirectory "$inputPath" "$outputPath" "$qualityNum";\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710627-29510","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710627-89868"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'# 此处是因为shell脚本文件中不能使用系统中设置的alias\n# 需要引入系统设置，然后才能使用\nsource ~/.bash_profile\n\n#读取用户输入的输入路径（要转换的图片文件夹或图片文件）\nread -p "Please input file or directory(请输入要转换的文件或文件夹路径) :" inputPath\n\n#读取用户输入的输出路径（转换成功后的图片文件夹或图片文件）\nread -p "Please input output directory(请输入转换后储存的路径) :" outputPath\n\n#读取用户输入的转换质量\nread -p "Please input Conversion quality(请输入转换质量) :" qualityNum\n\nfunction convertFile(){\n    # 获取参数：输入路径、输出路径、转换质量\n    inDirectory=$1;\n    outDirectory=$2;\n    quality=$3;\n\n    fileIncludeSuffix=${inDirectory##*/}\n    #删除变量 b 右侧第一个出现.的所有字符，并复制给 c\n\tfileName=${fileIncludeSuffix%.*}\n\n    if [[ ! "$inDirectory" ]]; then\n        return 1;\n    fi\n\n    output="$outDirectory""/""$fileName"".webp";\n    echo "output:"$output;\n    \n    if [[ -f "$output" ]]; then\n        return 2;\n    fi\n    \n    if [[ $quality ]]; then\n     \n        if [[ $fileIncludeSuffix == *\\.gif ]]; then\n            gif2webp "$inDirectory" -o "$output" -q "$quality" -lossy -m 6;\n        else\n            # -quiet,don\'t print anything\n            # -progress,report encoding progress\n            # -lossless,有的JPG反而更大！\n            # safename="$(echo $input | sed \'s# #\\\\ #g\')"\n            # 作为参数的时候，带上双引号，这样可以传递有空格的参数！\n            cwebp -q "$quality" -quiet -metadata "all" -mt "$inDirectory" -o "$output";\n        fi\n\n    else\n        cwebp -quiet -metadata "all" -mt "$inDirectory" -o "$output";\n    fi\n}\n# 指定路径的图片转化为webp格式，使用前判断是否是文件！\nfunction convertDirectory(){\n    # 获取参数：输入路径、输出路径、转换质量\n    inDirectory=$1;\n    outDirectory=$2;\n    quality=$3;\n\n    # 如果是单个文件的话，执行convertFile\n    if [[ -f "$inDirectory" ]]; then\n        convertFile "$inDirectory" "$outDirectory" "$quality";\n    elif [[ -d "$inDirectory" ]]; then\n        echo "convert directory:""$inDirectory""."\n        fileList="$inDirectory/*"; \n\n        for file in $fileList\n        do\n            if [[ ${file##*.} -ne "webp" ]]; then\n                continue;\n            fi\n            convertDirectory "$file" $outDirectory $quality;\n        done\n    else\n        echo "$inDirectory"" not exist..."\n    fi\n}\n\n# 如果没有输入文件夹路径，则自动设置为当前目录下边的img文件夹\nif [[ ! "$inputPath" ]]; then\n    inputPath="$PWD/img";\nfi\n\nif [[ ! "$outputPath" ]]; then\n    outputPath="$PWD/img";\nfi\n\nif [[ ! "$qualityNum" ]]; then\n    qualityNum=100;\nfi\n\n# echo $inputPath\n# echo $outputPath\n# echo $qualityNum\n\n# 调用convertDirectory并传参\nconvertDirectory "$inputPath" "$outputPath" "$qualityNum";\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710627-89868","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),n("p",[t._v("使用脚本：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在脚本目录打开终端,根据提示输入相关信息")]),t._v("\n./convert.sh\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710638-54673"}},[t._v("copy success")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 在脚本目录打开终端,根据提示输入相关信息\n./convert.sh\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710638-54673","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775710638-2313"}},[t._v("Copy successed")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"# 在脚本目录打开终端,根据提示输入相关信息\n./convert.sh\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775710638-2313","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),t._v(" "),n("star-star"),t._v(" "),n("comment-comment"),t._v(" "),n("back-to-top")],1)}),[],!1,null,null,null);e.default=c.exports}}]);