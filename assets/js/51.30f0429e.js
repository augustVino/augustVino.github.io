(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{606:function(t,n,e){"use strict";e.r(n);var o=e(59),c=Object(o.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"深入探究-function-object-鸡蛋问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#深入探究-function-object-鸡蛋问题"}},[t._v("#")]),t._v(" 深入探究 Function & Object 鸡蛋问题")]),t._v(" "),e("h2",{attrs:{id:"引言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引言"}},[t._v("#")]),t._v(" 引言")]),t._v(" "),e("p",[t._v("上篇文章用图解的方式向大家介绍了原型链及其继承方案，在介绍原型链继承的过程中讲解原型链运作机制以及属性遮蔽等知识，今天这篇文章就来深入探究下 "),e("code",[t._v("Function.__proto__ === Function.prototype")]),t._v(" 引起的鸡生蛋蛋生鸡问题，并在这个过程中深入了解 "),e("code",[t._v("Object.prototype")]),t._v("、"),e("code",[t._v("Function.prototype")]),t._v("、"),e("code",[t._v("function Object")]),t._v(" 、"),e("code",[t._v("function Function")]),t._v(" 之间的关系。")]),t._v(" "),e("h2",{attrs:{id:"object-prototype"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#object-prototype"}},[t._v("#")]),t._v(" Object.prototype")]),t._v(" "),e("p",[e("code",[t._v("Object.prototype")]),t._v(" 表示 "),e("code",[t._v("Object")]),t._v(" 的原型对象，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 属性是 "),e("code",[t._v("null")]),t._v("，访问器属性 "),e("code",[t._v("__proto__")]),t._v(" 暴露了一个对象的内部 "),e("code",[t._v("[[Prototype]]")]),t._v(" 。 "),e("code",[t._v("Object.prototype")]),t._v(" 并不是通过 "),e("code",[t._v("Object")]),t._v(" 函数创建的，为什么呢？看如下代码")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" f "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-19627"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Foo() {\n  this.value = 'foo';\n}\nlet f = new Foo();\nf.__proto__ === Foo.prototype;\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-19627","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-4135"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"function Foo() {\n  this.value = 'foo';\n}\nlet f = new Foo();\nf.__proto__ === Foo.prototype;\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-4135","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("p",[t._v("实例对象的 "),e("code",[t._v("__proto__")]),t._v(" 指向构造函数的 "),e("code",[t._v("prototype")]),t._v("，即 "),e("code",[t._v("f.__proto__")]),t._v(" 指向 "),e("code",[t._v("Foo.prototype")]),t._v("，但是 "),e("code",[t._v("Object.prototype.__proto__")]),t._v(" 是 "),e("code",[t._v("null")]),t._v("，所以 "),e("code",[t._v("Object.prototype")]),t._v(" 并不是通过 "),e("code",[t._v("Object")]),t._v(" 函数创建的，那它如何生成的？其实 "),e("code",[t._v("Object.prototype")]),t._v(" 是浏览器底层根据 ECMAScript 规范创造的一个对象。")]),t._v(" "),e("p",[e("code",[t._v("Object.prototype")]),t._v("就是原型链的顶端（不考虑 "),e("code",[t._v("null")]),t._v(" 的情况下），所有对象继承了它的 "),e("code",[t._v("toString")]),t._v(" 等方法和属性。")]),t._v(" "),e("image-image",{attrs:{imgSrc:"/img/2.4-1.webp",imgAlt:"2.4-1"}}),t._v(" "),e("h2",{attrs:{id:"function-prototype"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#function-prototype"}},[t._v("#")]),t._v(" Function.prototype")]),t._v(" "),e("p",[e("code",[t._v("Function.prototype")]),t._v(" 对象是一个函数（对象），其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 内部属性值指向内建对象 "),e("code",[t._v("Object.prototype")]),t._v("。"),e("code",[t._v("Function.prototype")]),t._v(" 对象自身没有 "),e("code",[t._v("valueOf")]),t._v(" 属性，其从 "),e("code",[t._v("Object.prototype")]),t._v(" 对象继承了"),e("code",[t._v("valueOf")]),t._v(" 属性。")]),t._v(" "),e("image-image",{attrs:{imgSrc:"/img/2.4-2.webp",imgAlt:"2.4-2"}}),t._v(" "),e("p",[e("code",[t._v("Function.prototype")]),t._v(" 的 "),e("code",[t._v("[[Class]]")]),t._v(" 属性是 "),e("code",[t._v("Function")]),t._v("，所以这是一个函数，但又不大一样。为什么这么说呢？因为我们知道只有函数才有 "),e("code",[t._v("prototype")]),t._v(" 属性，但并不是所有函数都有这个属性，因为 "),e("code",[t._v("Function.prototype")]),t._v("这个函数就没有。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ƒ () { [native code] }")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-83274"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Function.prototype\n// ƒ () { [native code] }\n\nFunction.prototype.prototype\n// undefined\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-83274","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-8517"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Function.prototype\n// ƒ () { [native code] }\n\nFunction.prototype.prototype\n// undefined\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-8517","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("p",[t._v("当然你会发现下面这个函数也没有 prototype 属性。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fun "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("prototype")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ƒ () { [native code] }")]),t._v("\n\nfun"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-26707"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let fun = Function.prototype.bind()\n// ƒ () { [native code] }\n\nfun.prototype\n// undefined\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-26707","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-44351"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"let fun = Function.prototype.bind()\n// ƒ () { [native code] }\n\nfun.prototype\n// undefined\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-44351","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("p",[t._v("为什么没有呢，我的理解是 "),e("code",[t._v("Function.prototype")]),t._v(" 是引擎创建出来的函数，引擎认为不需要给这个函数对象添加 "),e("code",[t._v("prototype")]),t._v(" 属性，不然 "),e("code",[t._v("Function.prototype.prototype")]),t._v("… 将无休无止并且没有存在的意义。")]),t._v(" "),e("h2",{attrs:{id:"function-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#function-object"}},[t._v("#")]),t._v(" function Object")]),t._v(" "),e("p",[t._v("Object 作为构造函数时，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 内部属性值指向 "),e("code",[t._v("Function.prototype")]),t._v("，即")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-83833"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Object.__proto__ === Function.prototype\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-83833","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-1095"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Object.__proto__ === Function.prototype\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-1095","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("image-image",{attrs:{imgSrc:"/img/2.4-3.webp",imgAlt:"2.4-3"}}),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("new Object()")]),t._v(" 创建新对象时，这个新对象的 "),e("code",[t._v("[[Prototype]]")]),t._v(" 内部属性指向构造函数的 "),e("code",[t._v("prototype")]),t._v(" 属性，对应上图就是 "),e("code",[t._v("Object.prototype")]),t._v("。")]),t._v(" "),e("image-image",{attrs:{imgSrc:"/img/2.4-4.webp",imgAlt:"2.4-4"}}),t._v(" "),e("p",[t._v("当然也可以通过对象字面量等方式创建对象。")]),t._v(" "),e("ul",[e("li",[t._v("使用对象字面量创建的对象，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 值是 "),e("code",[t._v("Object.prototype")]),t._v("。")]),t._v(" "),e("li",[t._v("使用数组字面量创建的对象，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 值是 "),e("code",[t._v("Array.prototype")]),t._v("。")]),t._v(" "),e("li",[t._v("使用 "),e("code",[t._v("function f(){}")]),t._v(" 函数创建的对象，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 值是 "),e("code",[t._v("Function.prototype")]),t._v("。")]),t._v(" "),e("li",[t._v("使用 "),e("code",[t._v("new fun()")]),t._v(" 创建的对象，其中 "),e("code",[t._v("fun")]),t._v(" 是由 "),e("code",[t._v("JavaScript")]),t._v(" 提供的内建构造器函数之一(Object, Function, Array, Boolean, Date, Number, String 等等），其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 值是 "),e("code",[t._v("fun.prototype")]),t._v("。")]),t._v(" "),e("li",[t._v("使用其他 "),e("code",[t._v("JavaScript")]),t._v(" 构造器函数创建的对象，其 "),e("code",[t._v("[[Prototype]]")]),t._v(" 值就是该构造器函数的 "),e("code",[t._v("prototype")]),t._v(" 属性。")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" o "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\to ---\x3e Object.prototype ---\x3e null")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"whadup"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"?"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\ta ---\x3e Array.prototype ---\x3e Object.prototype ---\x3e null")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\tf ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fun "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\tfun ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" foo "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\tfoo ---\x3e Foo.prototype ---\x3e Object.prototype ---\x3e null")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" foo "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原型链:\tfoo ---\x3e Object.prototype ---\x3e null")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-60648"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'let o = {a: 1};\n// 原型链:\to ---\x3e Object.prototype ---\x3e null\n\nlet a = ["yo", "whadup", "?"];\n// 原型链:\ta ---\x3e Array.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction f(){\n  return 2;\n}\n// 原型链:\tf ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null\n\nlet fun = new Function();\n// 原型链:\tfun ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction Foo() {}\nlet foo = new Foo();\n// 原型链:\tfoo ---\x3e Foo.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction Foo() {\n  return {};\n}\nlet foo = new Foo();\n// 原型链:\tfoo ---\x3e Object.prototype ---\x3e null\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-60648","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688099-78864"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'let o = {a: 1};\n// 原型链:\to ---\x3e Object.prototype ---\x3e null\n\nlet a = ["yo", "whadup", "?"];\n// 原型链:\ta ---\x3e Array.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction f(){\n  return 2;\n}\n// 原型链:\tf ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null\n\nlet fun = new Function();\n// 原型链:\tfun ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction Foo() {}\nlet foo = new Foo();\n// 原型链:\tfoo ---\x3e Foo.prototype ---\x3e Object.prototype ---\x3e null\n\nfunction Foo() {\n  return {};\n}\nlet foo = new Foo();\n// 原型链:\tfoo ---\x3e Object.prototype ---\x3e null\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688099-78864","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("h2",{attrs:{id:"function-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#function-function"}},[t._v("#")]),t._v(" function Function")]),t._v(" "),e("p",[e("code",[t._v("Function")]),t._v(" 构造函数是一个函数对象，其 "),e("code",[t._v("[[Class]]")]),t._v(" 属性是 "),e("code",[t._v("Function``。Function")]),t._v(" 的 "),e("code",[t._v("[[Prototype]]")]),t._v(" 属性指向了 "),e("code",[t._v("Function.prototype")]),t._v("，即")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Function"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688100-94872"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Function.__proto__ === Function.prototype\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688100-94872","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688100-172"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Function.__proto__ === Function.prototype\n// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688100-172","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("image-image",{attrs:{imgSrc:"/img/2.4-5.webp",imgAlt:"2.4-5"}}),t._v(" "),e("p",[t._v("到这里就有意思了，我们看下鸡生蛋蛋生鸡问题。")]),t._v(" "),e("h2",{attrs:{id:"function-object-鸡蛋问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#function-object-鸡蛋问题"}},[t._v("#")]),t._v(" Function & Object 鸡蛋问题")]),t._v(" "),e("p",[t._v("我们看下面这段代码")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Object "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),t._v(" \t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nFunction "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" \t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\nObject "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" \t\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nFunction "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),t._v(" \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688101-57463"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Object instanceof Function \t\t// true\nFunction instanceof Object \t\t// true\n\nObject instanceof Object \t\t\t// true\nFunction instanceof Function \t// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688101-57463","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688100-2050"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"Object instanceof Function \t\t// true\nFunction instanceof Object \t\t// true\n\nObject instanceof Object \t\t\t// true\nFunction instanceof Function \t// true\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688100-2050","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("p",[e("code",[t._v("Object")]),t._v(" 构造函数继承了 "),e("code",[t._v("Function.prototype")]),t._v("，同时 "),e("code",[t._v("Function")]),t._v(" 构造函数继承了"),e("code",[t._v("Object.prototype")]),t._v("。这里就产生了 "),e("strong",[t._v("鸡和蛋")]),t._v(" 的问题。为什么会出现这种问题，因为 "),e("code",[t._v("Function.prototype")]),t._v(" 和 "),e("code",[t._v("Function.__proto__")]),t._v(" 都指向 "),e("code",[t._v("Function.prototype")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object instanceof Function \t即")]),t._v("\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype \t\t\t\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Function instanceof Object \t即")]),t._v("\nFunction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object instanceof Object \t\t即 \t\t\t")]),t._v("\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype \t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Function instanceof Function 即\t")]),t._v("\nFunction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\t\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688101-27813"}},[t._v("copy success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// Object instanceof Function \t即\nObject.__proto__ === Function.prototype \t\t\t\t\t// true\n\n// Function instanceof Object \t即\nFunction.__proto__.__proto__ === Object.prototype\t// true\n\n// Object instanceof Object \t\t即 \t\t\t\nObject.__proto__.__proto__ === Object.prototype \t// true\n\n// Function instanceof Function 即\t\nFunction.__proto__ === Function.prototype\t\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688101-27813","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1589775688101-62855"}},[t._v("Copy successed")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// Object instanceof Function \t即\nObject.__proto__ === Function.prototype \t\t\t\t\t// true\n\n// Function instanceof Object \t即\nFunction.__proto__.__proto__ === Object.prototype\t// true\n\n// Object instanceof Object \t\t即 \t\t\t\nObject.__proto__.__proto__ === Object.prototype \t// true\n\n// Function instanceof Function 即\t\nFunction.__proto__ === Function.prototype\t\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1589775688101-62855","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"Copy failed",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("Copy")])])])]),e("p",[t._v("对于 "),e("code",[t._v("Function.__proto__ === Function.prototype")]),t._v(" 这一现象有 2 种解释，争论点在于 "),e("code",[t._v("Function")]),t._v(" 对象是不是由 "),e("code",[t._v("Function")]),t._v(" 构造函数创建的一个实例？")]),t._v(" "),e("p",[e("strong",[t._v("解释 1、YES")]),t._v("：按照 "),e("code",[t._v("JavaScript")]),t._v(" 中“实例”的定义，a 是 b 的实例即 "),e("code",[t._v("a instanceof b")]),t._v(" 为 "),e("code",[t._v("true")]),t._v("，默认判断条件就是 "),e("code",[t._v("b.prototype")]),t._v(" 在 a 的原型链上。而 "),e("code",[t._v("Function instanceof Function")]),t._v(" 为 "),e("code",[t._v("true")]),t._v("，本质上即 "),e("code",[t._v("Object.getPrototypeOf(Function) === Function.prototype")]),t._v("，正符合此定义。")]),t._v(" "),e("p",[e("strong",[t._v("解释 2、NO")]),t._v("："),e("code",[t._v("Function")]),t._v(" 是 "),e("code",[t._v("built-in")]),t._v(" 的对象，也就是并不存在“Function对象由Function构造函数创建”这样显然会造成鸡生蛋蛋生鸡的问题。实际上，当你直接写一个函数时（如 "),e("code",[t._v("function f() {}")]),t._v(" 或 "),e("code",[t._v("x => x")]),t._v("），也不存在调用 "),e("code",[t._v("Function")]),t._v(" 构造器，只有在显式调用 "),e("code",[t._v("Function")]),t._v(" 构造器时（如 "),e("code",[t._v("new Function('x', 'return x')")]),t._v(" ）才有。")]),t._v(" "),e("p",[t._v("我个人偏向于第二种解释，即先有 "),e("code",[t._v("Function.prototype")]),t._v(" 然后有的 "),e("code",[t._v("function Function()")]),t._v(" ，所以就不存在鸡生蛋蛋生鸡问题了，把 "),e("code",[t._v("Function.__proto__")]),t._v(" 指向 "),e("code",[t._v("Function.prototype")]),t._v(" 是为了保证原型链的完整，让 "),e("code",[t._v("Function")]),t._v(" 可以获取定义在 "),e("code",[t._v("Object.prototype")]),t._v(" 上的方法。")]),t._v(" "),e("p",[t._v("最后给一个完整的图，看懂这张图原型就没问题了。")]),t._v(" "),e("image-image",{attrs:{imgSrc:"/img/2.4-6.webp",imgAlt:"2.4-6"}}),t._v(" "),e("h2",{attrs:{id:"内置类型构建过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内置类型构建过程"}},[t._v("#")]),t._v(" 内置类型构建过程")]),t._v(" "),e("p",[t._v("JavaScript 内置类型是浏览器内核自带的，浏览器底层对 JavaScript 的实现基于 C/C++，那么浏览器在初始化 JavaScript 环境时都发生了什么？")]),t._v(" "),e("p",[t._v("1、用 C/C++ 构造内部数据结构创建一个 OP 即 (Object.prototype) 以及初始化其内部属性但不包括行为。")]),t._v(" "),e("p",[t._v("2、用 C/C++ 构造内部数据结构创建一个 FP 即 (Function.prototype) 以及初始化其内部属性但不包括行为。")]),t._v(" "),e("p",[t._v("3、将 FP 的 "),e("code",[t._v("[[Prototype]]")]),t._v(" 指向 OP。")]),t._v(" "),e("p",[t._v("4、用 C/C++ 构造内部数据结构创建各种内置引用类型。")]),t._v(" "),e("p",[t._v("5、将各内置引用类型的"),e("code",[t._v("[[Prototype]]")]),t._v("指向 FP。")]),t._v(" "),e("p",[t._v("6、将 Function 的 prototype 指向 FP。")]),t._v(" "),e("p",[t._v("7、将 Object 的 prototype 指向 OP。")]),t._v(" "),e("p",[t._v("8、用 Function 实例化出 OP，FP，以及 Object 的行为并挂载。")]),t._v(" "),e("p",[t._v("9、用 Object 实例化出除 Object 以及 Function 的其他内置引用类型的 prototype 属性对象。")]),t._v(" "),e("p",[t._v("10、用 Function 实例化出除Object 以及 Function 的其他内置引用类型的 prototype 属性对象的行为并挂载。")]),t._v(" "),e("p",[t._v("11、实例化内置对象 Math 以及 Grobal")]),t._v(" "),e("p",[t._v("至此，所有内置类型构建完成。")]),t._v(" "),e("star-star"),t._v(" "),e("comment-comment"),t._v(" "),e("back-to-top")],1)}),[],!1,null,null,null);n.default=c.exports}}]);